
\documentclass[12pt,twoside]{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{listings}
\usepackage{color}
\usepackage{graphicx}
\usepackage{parskip}
\usepackage{hyperref}

\pagestyle{myheadings}
\textwidth 160mm
\textheight 220mm
\oddsidemargin -.2cm
\evensidemargin -.2cm
\markboth{{\rm G.Drummond, R.Cox}}{{\rm {COSC364 Assignment 1}}}


\begin{document}
\title{COSC364 Assignment 2}
\author{George Drummond(53243258), \\Ryan Cox(64656394)}
\maketitle
\thispagestyle{empty}

\begin{abstract}
The following discusses -------
This was a joint work by George Drummond and Ryan Cox in accordance with the course requirements of COSC364-17S1 and is a result of \bf{equal} contribution ($50\% / 50\%$).
\end{abstract}

\tableofcontents

\newpage
\section{ Problem formulation}
We wish to formulate an optimization problem for generic values of X, Y and Z (with $ Y> 3$) such that the load on all transit nodes is balanced.

Notation: $[X] = \{1,2,3,....,X\}$.

\subsection{Decision and auxiliary variables}
Let $u_{ik}$ be the amount of flow on the link between a given source node $S_i$ and transit node $T_k$.
Likewise let $v_{kj}$ be the amount of flow on the link between a given transit node $T_k$ and destination node $D_j$.

Therefore, letting $x_{ikj}$ be the part of the demand volume between source node $S_i$ and destination node $D_j$ that is routed through transit node $T_k$, we achieve 
\begin{equation}\label{first}
	u_{ik} + v_{kj} = x_{ikj} 
\end{equation}
$\forall i \in [X], k \in [Y], j \in [Z]$.

Also, the total traffic flow into a transit node is equal to the total traffic flow out of the node.
\begin{equation}
	\sum_{i=1}^{X}u_{ik} = \sum_{j=1}^{Z}v_{kj}
\end{equation}
$\forall k \in [Y]$



\subsection{objective function}\label{Sec: objf}
The resulting \emph{utilisation} on a link between a given source node $S_i$ and transit node $T_k$ is given by $\frac{u_{ik}}{c_{ik}}$. Similarly, the resulting utilisation on a link between a given transit node $T_k$ and destination node $D_j$is given by $\frac{v_{kj}}{d_{kj}}$.

We therefore formulate our objective function as.
\begin{equation*}\label{2}
	r = \max(\frac{u_{ik}}{c_{ik}},\frac{v_{kj}}{d_{kj}}), \forall i \in [X], k \in [Y], j \in [Z]
\end{equation*}

That is, we wish to minimise the greatest link utilisation. We now note that $r$ is piecewise linear in section \ref{Sec: Const} when considering related constraints.

\subsection{Demand constraints}
We now turn our attention to the global requirement that each demand volume shall be split over exactly three different paths, such that each path gets an equal
share of the demand volume.

let $w_{ikj}$ be the indicator variable for the path between source node $i$ and destination node $j$ through transit node $k$, taking the value $1$ if path $i->k->j$ carries data and $0$ otherwise. With our 3 path restriction, we achieve
\begin{equation}
	\sum_{k=1}^{Y}w_{ikj} = 3
\end{equation}

Now to consider the demand volume between nodes $i$ and $j$.
\begin{equation}
	x_{ikj} = w_{ikj} \frac{h_{ij}}{3} = \frac{(i + j)}{3}w_{ikj}
\end{equation}

PROOF OF OPERATION HERE

\subsection{Additional constraints}\label{Sec: Const} 
\b{Capacity}:\\
$\forall i \in [X], k \in [Y], j \in [Z]$, we have,
\begin{align}
	u_{ik} &\leq c_{ik} \\
	v_{kj} &\leq d_{kj}  
\end{align}

Likewise, from out discussion in \ref{Sec: objf}, we have the following constraints regarding our objective function,
\begin{align}
	u_{ik} &\leq c_{ik} r\\
	v_{kj} &\leq d_{kj} r
\end{align}

Non-negativity:\\
$\forall i \in [X], k \in [Y], j \in [Z]$, we have,
\begin{align}
	x_{ikj} &\geq 0\\
	u_{ik} &\geq 0\\
	v_{kj} &\geq 0\\
	r &\geq 0 \label{last}
\end{align}

\subsection{Model summary}
Equations \ref{first} through to \ref{last} suffice to fully describe our optimisation problem.

\section{Results}










\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
	backgroundcolor=\color{backcolour},   
	commentstyle=\color{codegreen},
	keywordstyle=\color{magenta},
	numberstyle=\tiny\color{codegray},
	stringstyle=\color{codepurple},
	basicstyle=\footnotesize,
	breakatwhitespace=false,         
	breaklines=true,                 
	captionpos=b,                    
	keepspaces=true,                 
	numbers=left,                    
	numbersep=5pt,                  
	showspaces=false,                
	showstringspaces=false,
	showtabs=false,                  
	%tabsize=2
}

\lstset{style=mystyle}

\newpage
\section{LP generation source file}
\lstinputlisting[language=python]{genLP.py}
\newpage


\section{References}\label{Sec: Ref}

\end{document}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Non-relevent stuff below this line %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%